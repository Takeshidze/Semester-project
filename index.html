<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <!--Стартовые стили шаблона-->
  <link rel="stylesheet" href="css/starter.css">
  <!--Ваши стили-->
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
<div id="preloader" class="preloader">
    <div>
        <img src="img/lego.png" id="preloader_image">
    </div>
    </div>
    
	<!--НАЧАЛО Шапка-->
  <header class="mainheader">
    <div class="container">
     
      <img src="img/logo.png">
      
      <nav class="mainnav">
      	<ul>
      		<li class="active"><a href="#">Серии наборов</a></li>
      		<li><a href="#">О компании</a></li>
      		<li><a href="#">Оставить заявку</a></li>
      		<li><a href="#">Собери комплект</a></li>
      		<li><img src="img/cart25.png"><span id="BuyCounter">0</span></li>
      	</ul>
      </nav>
    </div>
    
  </header>
  <div id="line_skroll"></div>
 
	<!--КОНЕЦ Шапка-->
    
    
  <main>
    <div class="container">
     
      <!--НАЧАЛО Секция "Серии наборов"-->
      <section id="SeriesOfSet">
        <h2>Серии наборов</h2>
        
        <!--Стреки для листания слайдера-->
				<img src="img/arrow_right.png" class="slider_arrow_right" id="slider_arrow_right">
				<img src="img/arrow_left.png" class="slider_arrow_left" id="slider_arrow_left">
       
        <!--НАЧАЛО Обертка для слайдов-->
        <div class="viewport"> 
        <div class="kit_slides_wrapper" id="kit_slides_wrapper">
        
          <!-- НАЧАЛО Слайд №1-->
        	<div class="kit_slide">
        	  <img src="img/series/series1.jpg">
        	  <div class="info">
        	    <h3>THE LEGO MOVIE</h3>
        	    <p>
        	      Познакомься с наборами из серии THE LEGO® MOVIE 2™, посмотри, как Эммет разворачивает свой новый дом мечты/спасательную ракету, когда Мими Катавасия прибывает на звездолёте.
        	    </p>
        	  </div>
        	</div>
          <!-- КОНЕЦ Слайд №1-->
            
          <!-- НАЧАЛО Слайд №2-->
            <div class="kit_slide">
                <img src="img/series/series2.jpg">
        	  <div class="info">
        	    <h3>STAR WARS</h3>
        	    <p>
        	      Поклонники LEGO® могут объединить силы, чтобы воссоздать самые захватывающие эпизоды из своей любимой саги о Звездных войнах.
        	    </p>
        	  </div>
            </div>
          <!-- КОНЕЦ Слайд №2-->
            
          <!-- НАЧАЛО Слайд №3-->
            <div class="kit_slide">
                <img src="img/series/series3.jpg">
        	  <div class="info">
        	    <h3>NINJAGO</h3>
        	    <p>
        	      LEGO® NINJAGO® — удивительный мир, в котором ниндзя сражаются со злом. Вашему ребенку понравится придумывать новые увлекательные приключения любимых персонажей.
        	    </p>
        	  </div>
            </div>
          <!-- КОНЕЦ Слайд №3-->
            
          <!-- НАЧАЛО Слайд №4-->
            <div class="kit_slide">
                <img src="img/series/series4.jpg">
        	  <div class="info">
        	    <h3>CITY</h3>
        	    <p>
        	      Конструкторы LEGO® City помогут создать реалистичный мир LEGO для исследований и развития творческих способностей вашего ребенка. Постройте свой шумный город, собрав легендарные автомобили и здания.
        	    </p>
        	  </div>
            </div>
          <!-- КОНЕЦ Слайд №4-->
        
          <!-- НАЧАЛО Слайд №5-->
            <div class="kit_slide">
                <img src="img/series/series5.jpg">
        	  <div class="info">
        	    <h3>TECHNIC</h3>
        	    <p>
        	      Серия LEGO® Technic™ бросает вызов опытным строителям LEGO. Ваш ребенок может создавать продвинутые реалистичные механизмы, такие как коробки передач и системы рулевого управления.
        	    </p>
        	  </div>
            </div>
          <!-- КОНЕЦ Слайд №5-->
        </div>
        </div>
        <!--КОНЕЦ Обертка для слайдов-->
      </section>
      <!--КОНЕЦ Секция "Серии наборов"-->
      
      
      
      <!--НАЧАЛО Секция "О компании"-->
      <section id="Company">
      	<h2>О компании</h2>
      	
      	<p>
      		<strong>LEGO Group</strong> — датская частная компания, занимающаяся производством одноимённых серий развивающих игрушек, представляющих собой наборы деталей для сборки и моделирования разнообразных предметов — конструкторов. Второй по величине (после Hasbro) производитель игрушек в мире.
      	</p>
      	<p>
      		Головной офис компании находится в Дании. Здесь же, в Дании, на полуострове Ютландия, в небольшом городке Биллунд, находится и самый большой Леголенд в мире — город, полностью построенный из конструктора LEGO.
      	</p>
      	<p>
      		Основой наборов является кирпичик LEGO — деталь, представляющая собой полый пластмассовый блок, соединяющийся с другими такими же кирпичиками на шипах. В наборы также могут входить множество других деталей: фигурки людей и животных, колёса и так далее. Существуют наборы, в которые входят электродвигатели, различного рода датчики и даже микроконтроллеры. Наборы позволяют собирать модели автомобилей, самолётов, кораблей, зданий, роботов. Воплощает идею модульности, наглядно демонстрирующий детям то, как можно решать некоторые технические проблемы, также прививает навыки сборки, ремонта и разборки техники.
      	</p>
      </section >
      <!--КОНЕЦ Секция "О компании"-->
      
      
      
      <!--НАЧАЛО Секция "Оставить заявку"-->
      <section id="request">
      	<h2>Оставить заявку</h2>
      	
      	<!--НАЧАЛО Обертка/флекс-контейнер-->
      	<div class="order-wrapper">
      	  <!--НАЧАЛО Левая часть с полями для ввода-->
      		<div class="order-form">
      			<!--Имя-->
      			<label for="firstname_field">Имя</label>
      			<input type="text" id="firstname_field" value=""> 
      			<!--Фамилия-->
      			<label for="lastname_field">Фамилия</label>
      			<input type="text" id="lastname_field" value="">
      			<!--Номер телефона-->     	
      			<label for="phone_field">Телефон</label>
      			<input type="text" id="phone_field" value="">
      			<button id="send">Отправить</button>
      		</div>
      	  <!--КОНЕЦ Левая часть с полями для ввода-->
      	  
      	  <!--НАЧАЛО Правая часть с сообщением-->
      		<div class="order-alert visible" id="MessageBlock">
      			<p>
      				<strong>Уважаемый, <span id="TextLastname">Иванов</span> <span id="TextFirstname">Н.</span></strong><br>
      				Наши специалисты уже получили Вашу заявку и свяжутся с Вами в ближайшее время по телефону <strong><nobr id="nomber">8 999 123 45 67</nobr></strong><br>
      				Спасибо за обращение! 
      			</p>
      		</div>      	  
      		<!--КОНЕЦ Правая часть с сообщением-->
      	</div>
      	<!--КОНЕЦ Обертка/флекс-контейнер-->
      </section>
      <!--КОНЕЦ Секция "Оставить заявку"-->
      
      
      
      <!--НАЧАЛО Секция "Собери комплект"-->
      <section id="AssembleKit">
      	<h2>Собери комплект</h2>
      	
      	<!--НАЧАЛО Обертка/флекс-контейнер для товаров-->
      	<div class="goods-wrapper">
      	
      		<!--НАЧАЛО Товар №1-->
      		<div class="product">
      			<img src="img/goods/1.png">
      			<h4>Пожарная машина</h4>
      			<button><img src="img/cart16.png"></button>
      		</div>
      		<!--КОНЕЦ Товар №1-->
      		<!--НАЧАЛО Товар №2-->
      		<div class="product">
      			<img src="img/goods/2.jpg">
      			<h4>Гоночная машина</h4>
      			<button><img src="img/cart16.png"></button>
      		</div>
      		<!--КОНЕЦ Товар №2-->
      		<!--НАЧАЛО Товар №3-->
      		<div class="product">
      			<img src="img/goods/3.jpg">
      			<h4>Попугай</h4>
      			<button><img src="img/cart16.png"></button>
      		</div>
      		<!--КОНЕЦ Товар №3-->
      		
      		<!--НАЧАЛО Товар №4-->
      		<div class="product">
      			<img src="img/goods/4.jpg">
      			<h4>Аэропорт</h4>
      			<button><img src="img/cart16.png"></button>
      		</div>
      		<!--КОНЕЦ Товар №4-->
      		<!--НАЧАЛО Товар №5-->
      		<div class="product">
      			<img src="img/goods/5.jpg">
      			<h4>Вертолет</h4>
      			<button><img src="img/cart16.png"></button>
      		</div>
      		<!--КОНЕЦ Товар №5-->
      		<!--НАЧАЛО Товар №6-->
      		<div class="product">
      			<img src="img/goods/6.jpg">
      			<h4>Дом (красный)</h4>
      			<button><img src="img/cart16.png"></button>
      		</div>
      		<!--КОНЕЦ Товар №6-->
      	</div>
      	<!--КОНЕЦ Обертка/флекс-контейнер для товаров-->
      </section>
      <!--КОНЕЦ Секция "Собери комплект"-->
        
      <!--КНОПКА-->
      <div id="back"><p>Назад</p></div>
    </div>
  </main>
    
    <!--Начало работы со скриптом-->
    
  <script>
//    <!--ПРОКРУТКА СЕРИИ НАБОРОВ-->
      let SetScrollCouter = 0;
    slider_arrow_right.addEventListener('click', function(){
          if(SetScrollCouter== -3200) {
              SetScrollCouter=800;
          }
          SetScrollCouter-=800; 
          kit_slides_wrapper.style.transform = "translateX(" + SetScrollCouter +"px)";
          
      })
    slider_arrow_left.addEventListener('click', function(){
          if(SetScrollCouter==0) {
              SetScrollCouter=-4000;
          }
          SetScrollCouter+=800; 
          kit_slides_wrapper.style.transform = "translateX(" + SetScrollCouter +"px)";
          
      })
               
//    <!--КОНЕЦ ПРОКРУТКИ СЕРИИ НАБОРОВ-->
       
//    <!--ПОЛОСА ПРОКРУТКИ СТРАНИЦЫ-->
    let scrollHeight = Math.max(
    document.body.scrollHeight, document.documentElement.scrollHeight,
    document.body.offsetHeight, document.documentElement.offsetHeight,
    document.body.clientHeight, document.documentElement.clientHeight
     );
      window.addEventListener('scroll', function() {
          line_skroll.style.width = (pageYOffset/scrollHeight)*100 + '%';
      })
      
//    <!-- КОНЕЦ ПОЛОСЫ ПРОКРУТКИ СТРАНИЦЫ-->
    
//    <!--ДОБАВЛЕНИЕ В КОРЗИНУ-->
        let Bcounter = document.body.querySelectorAll('.product > button');
        
        let Basket = 0;
      for(let i = 0; i < Bcounter.length; i++) {
          Bcounter[i].addEventListener('click', function() { 
              Basket++;
              BuyCounter.innerHTML = Basket;
          })
      }
//    <!--КОНЕЦ ДОБАВЛЕНИЯ В КОРЗИНУ-->
    
//    <!--ОСТАВИТЬ ЗАЯВКУ-->
        send.addEventListener('click', function() {
          TextLastname.innerHTML = lastname_field.value;
            
          let arrname = firstname_field.value.split('');
          TextFirstname.innerHTML = arrname[0] + ".";
            
          let numbertext = phone_field.value.split('');
          
          nomber.innerHTML = phone_field.value;
          MessageBlock.style.opacity = '1';
          
          
        })
      
//    <!--КОНЕЦ ЗАЯВКИ?-->
      
//    <!--ПОЯВЛЕНИЕ КНОПКИ И ПЛАВНЫЙ СКРОЛЛ-->
    
     
    console.log(scrollHeight);
    setInterval(function() {if(window.pageYOffset>scrollHeight/2) {
        back.style.display = 'block';
        back.style.opacity = '1';
        }
        else {
        back.style.display = 'none';
        back.style.opacity = '0';  
        }                   
        }, 10)
    back.addEventListener('click', function(e){
     let timerId = setInterval(function() {
          window.scrollBy(0, -20)
          if(window.pageYOffset==0) {
         clearInterval(timerId);
     }
      } , 1)
     
    })
    
//    <!--КОНЕЦ ЧЕГО ТО ТАМ Я ЗАДОЛБАЛСЯ ЭТО ПИСАТЬ-->
    
//    <!--СЛЕДЯЩАЯ ПРОКРУТКА-->
      let arrLi = document.querySelectorAll('ul > li');
      console.log(arrLi);
      let Yseries = SeriesOfSet.getBoundingClientRect();
      let Ycompany = Company.getBoundingClientRect();
      let Yrequest = request.getBoundingClientRect();
      let Ykits = AssembleKit.getBoundingClientRect();
      window.addEventListener('scroll', function(){
          if(window.pageYOffset == Yseries.top) {
              arrLi[0].classList.add('active');
          }
          if(window.pageYOffset == Ycompany.top) {
              arrLi[1].classList.add('active');
              arrLi[0].classList.remove('active');
          }
      })
//    <!--КОНЕЦ СЛЕДЯЩЕЙ ПРОКРУТКИ-->
      
//    <!--ПРЕЛОДЕР-->
      let countScalePreloader = 300;
      let ScaleZoom = 10;
      let TimerId = setInterval(function() {
           if(countScalePreloader==150) {
               ScaleZoom=10;
           }
           if(countScalePreloader==300) {
               ScaleZoom=-10;
           }
           preloader_image.style.transform = "rotate("+ ScaleZoom +"deg)";
           preloader_image.style.width = countScalePreloader + 'px';
           preloader_image.style.height = countScalePreloader + 'px';
           countScalePreloader+=ScaleZoom;
       },50)
      
        function load () {
        let preloader = document.getElementById('preloader');
        preloader.style.display = 'none';
        clearInterval(TimerId);
        }
      
        setTimeout(load, 1000);
      
    
//    <!--КОНЕЦ ПРЕЛОДЕРА-->
    </script>
</body>
</html>